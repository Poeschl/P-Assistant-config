---
# This automation receives the data from the annoncment of the shelly devices.
# After completition the device is integrated as entity.
#
id: 'shellies_discovery'
alias: 'Shellies Discovery'
trigger:
  - platform: mqtt
    topic: shellies/announce
action:
  service: python_script.shellies_discovery
  data_template:
    id: '{{ trigger.payload_json.id }}'
    mac: '{{ trigger.payload_json.mac }}'
    fw_ver: '{{ trigger.payload_json.fw_ver }}'